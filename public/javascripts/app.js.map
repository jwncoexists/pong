{"version":3,"sources":["app/scripts/app.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArHA;AAAA","file":"public/javascripts/app.js","sourcesContent":["\n$(document).ready(function() {\n  // initialize player's paddle\n  var numLosses = 0; // displayed in the stats\n  var startTime = $.now();\n  var endTime = startTime;\n  var maxDuration = 0; //displayed in the stats\n  var playerLost = false;\n  var lostPause = 4000; //wait 4 seconds after we lose\n  var paddlePad = 10; // padding around paddle to check for a miss\n\n// update player's paddle location based on mouse location\n  function updatePaddleLocation(paddle, event) {\n     var offsetY = Math.max(10, event.pageY);\n     offsetY = Math.min(360, offsetY);\n     $(paddle).css(\"top\", offsetY);\n   }\n\n  // initialize player's paddle with mousemove event\n  function setupPlayerPaddle() { \n     // bind updatePaddleLocation to mouse click events\n     console.log('setting up player paddle');\n     $('.pong-container').mousemove(function(event) {\n       updatePaddleLocation('.player', event);\n     });\n\n  } \n\n  // come here when a player loses\n  function playerLoses() {\n    playerLost = true;\n    endTime = $.now();\n    var duration = endTime - startTime;\n    \n    // update global variable maxDuration & stats display\n    maxDuration = Math.max(duration, maxDuration);\n    $('#max-duration').text(maxDuration/1000 + \" seconds\");\n    \n    // turn off ball animation & display\n    $('.ball').css(\"display\", \"none\");\n    $('.ball').css(\"animation-play-state\", \"paused\");\n    $('.ball').css(\"-webkit-animation-play-state\", \"paused\");  $('.vertical').css(\"animation-play-state\", \"paused\");\n    $('.vertical').css(\"-webkit-animation-play-state\", \"paused\");\n\n    // turn off animation of computer's paddle\n    $('.computer').css(\"animation-play-state\", \"paused\");\n    $('.computer').css(\"-webkit-animation-play-state\", \"paused\");\n    \n    // increment numLosses global variable & stats display\n    numLosses += 1;\n    $('#num-losses').text(numLosses);\n  }\n\n  // startup game again\n  // come here after a loss and wait time is complete\n  function restartGame() {\n    startTime = $.now();\n    endTime = startTime;\n    playerLost = false;\n    $('.ball').css(\"display\", \"block\");\n    $('.ball').css(\"animation-play-state\", \"running\");\n    $('.ball').css(\"-webkit-animation-play-state\", \"running\");\n    $('.vertical').css(\"animation-play-state\", \"running\");\n    $('.vertical').css(\"-webkit-animation-play-state\", \"running\");\n    $('.computer').css(\"animation-play-state\", \"running\");\n    $('.computer').css(\"-webkit-animation-play-state\", \"running\");\n  }\n\n  // check to see if we've been paused long enough\n  function checkResetTime() {\n    var now = $.now();  \n    if (now - endTime >= lostPause) {\n      restartGame();\n    }\n  }\n\n  // update duration display on screen\n  function updateDuration() {\n     var duration = ($.now() - startTime)/1000;\n     $('#duration').text(duration + \" seconds\");\n  }\n\n  // check to see if ball has missed player's paddle\n  function checkBallLocation() {\n     var pos = $('.ball').position();\n     var ballX = pos.left;\n     var ballY = pos.top;\n     var paddlePos = $('.player').position();\n    \n     // check to see if ball got past player's paddle\n     if (ballX >= 975) {\n       var ymin = paddlePos.top;\n       var ymax = ymin + 50;\n       if (ballY < (ymin-paddlePad) || ballY > (ymax+paddlePad) ) {\n           playerLost = true;\n       }\n     }\n  }\n  \n  setupPlayerPaddle();\n\n  // setup timer to check ball location every 15 milliseconds\n  var myInterval = window.setInterval(function() {\n    if (!playerLost) {\n      checkBallLocation();\n      if (playerLost) {\n        playerLoses();\n      } else {\n        updateDuration();\n      }\n    }\n    else {\n      checkResetTime();\n    }\n  }, 15);\n\n});\n"]}